<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script>
    // I see you!  Don't spoil the fun :P
    var url = new URL(window.location.href);
    var name = url.searchParams.get("username");

    if (!name || name == "null" || name.toLowerCase() === "xxx_steveslayer420_xxx") {
	  alert("Sorry, that name is already taken!  Please choose another.");
	  window.location.replace("index.html");
    }
	
	function clicky()
	{
	  var phrases = [ 'It is not thine turn.',
	    'Thou must be patient until the current player has finished their turn.',
	    'Patience, whilst xXx_SteveSlayer420_xXx completes their ruminations.',
        'Thou canst take action until thine turn.' ];
	  alert(phrases[Math.floor(Math.random() * phrases.length)]);
	}
  </script>

  <title>Gaia of Eden: Shadow of the Time Crystal</title>

  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="style.css">
</head>
<body class="flex">
  <div class="border">&nbsp;</div>
  <div class="content">
    <img src="img/block.png" style="width:100%">
    <div>
      <h1>Gaia of Eden</h1>
    </div>
    <hr>
    <div class="flex">
      <img src="img/ui.png" onclick="clicky()">
	  <div>
<script>
        var map_num = Math.floor(Math.random() * 3)
        document.write('<img src="img/map_' + map_num + '.png" onclick="clicky()">');
		if (map_num == 0) {
		  var arrow_left = 596;
		  var arrow_top = 374;
		} else if (map_num == 1) {
		  var arrow_left = 310;
		  var arrow_top = 390;
		} else {
		  var arrow_left = 522;
		  var arrow_top = 414;
		}
        document.write('<img src="img/arrow.gif" style="position:absolute;top:' + arrow_top + 'px;left:' + arrow_left + 'px" onclick="clicky()">');
</script>
      </div>
    </div>
    <hr>
	  <table style="width:100%"><tr><th colspan="3"><p>Game Status</p></th></tr>
	  <tr><th>Turn Number</th><th>Current Player</th><th>Players Online</th></tr>
	  <tr><td>78</td><td>xXx_SteveSlayer420_xXx</td><td><script>document.write(17 + Math.floor(Math.random() * 11))</script></td></tr>
	  </table>
    <hr>
    <form action="javascript:postChat()">
	  <div id="chatbox" style="width:100%;height:90px;overflow:auto"></div>
      <p>Chat: <input id="message" type="text"> <input type="submit">
    </form>
    <img src="img/block.png" style="width:100%">
  </div>
  <div class="border">&nbsp;</div>
<script>
  var chatbox = document.getElementById("chatbox");
  var message = document.getElementById("message");

  function postChat() {
    if (message.value !== "") {
	  var d = document.createElement("div");
	  d.innerHTML = '<span style="color:yellow"><b>' + name + '</b>: ' + message.value + '</span>';
	  chatbox.appendChild(d);
	  message.value = "";
	}
  }

  function otherChat() {
      var users = ['Gurrl', 'Panda', 'Lucky', 'Crab', 'User', 'Avalon', 'Babe', 'Gamer', 'Riot', 'Psycho', 'Monkey', 'Bard', 'Ninja', 'Robot', 'Rogue', 'Knife', 'Moon', 'Big', '69'];
	  var userName = users[Math.floor(Math.random() * users.length)] + users[Math.floor(Math.random() * users.length)];

      var sez = ['Steve, it\'s your turn', 'hurry up steve', 'Steveslayer pls', 'Hello', 'wtf',
	    'is anyone there?', 'cmon Bruh', 'MOVE ALREADY', 'I can\'t move', 'This game sucks', 'i think hes afk', '...',
		'uh', 'hmm', 'dude what is taking so long', 'Why can\'t I do anything', 'is Steve Slayer even here???', 'END YOUR TURN',
		'stop wasting our time dude!', ':ResidentSleeper:', 'gooooooooooooooo', 'when is it mY TURN', 'plz move', 'Anyone else keep getting "it is not your turn?"',
		'He\'s not even online lmaooooo', 'i think he signed off? hello??', 'So do we just... wait for him to come back on?'];
	  var d = document.createElement("div");
	  d.innerHTML = '<span><b>' + userName + '</b>: ' + sez[Math.floor(Math.random() * sez.length)] + '</span>';
	  chatbox.appendChild(d);
  
    setTimeout(otherChat, 7000 + Math.random()*20000);
  }
  setTimeout(otherChat, 1000 + Math.random()*3000);
</script>
</body>
</html>
